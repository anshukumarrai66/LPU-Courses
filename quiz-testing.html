<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Quiz Application</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary-bg: #2a2a2a;
            --secondary-bg: #3a3a3a;
            --tertiary-bg: #4a4a4a;
            --accent-color: #ff6b35;
            --text-primary: #ffffff;
            --text-secondary: #cccccc;
            --border-color: #555555;
            --hover-color: #5a5a5a;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, var(--primary-bg), var(--secondary-bg));
            color: var(--text-primary);
            min-height: 100vh;
            transition: all 0.3s ease;
        }

        .light-mode {
            --primary-bg: #f5f5f5;
            --secondary-bg: #ffffff;
            --tertiary-bg: #e9e9e9;
            --accent-color: #007bff;
            --text-primary: #333333;
            --text-secondary: #666666;
            --border-color: #dddddd;
            --hover-color: #f0f0f0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* Header */
        .header {
            background: var(--secondary-bg);
            border-bottom: 2px solid var(--border-color);
            padding: 15px 0;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
            font-size: 24px;
            font-weight: bold;
            font-style: italic;
        }

        .logo-circle {
            width: 50px;
            height: 50px;
            background: var(--accent-color);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 20px;
        }

        .nav-links {
            display: flex;
            gap: 30px;
            align-items: center;
        }

        .nav-link {
            color: var(--text-primary);
            text-decoration: none;
            padding: 8px 16px;
            border-radius: 8px;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .nav-link:hover {
            background: var(--hover-color);
            transform: translateY(-2px);
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 15px;
        }

        .dark-mode-toggle {
            background: var(--tertiary-bg);
            border: none;
            color: var(--text-primary);
            padding: 10px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            font-weight: 500;
        }

        .dark-mode-toggle:hover {
            background: var(--accent-color);
            color: white;
        }

        .notification {
            background: var(--accent-color);
            border: none;
            color: white;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .notification:hover {
            transform: scale(1.1);
        }

        .profile {
            display: flex;
            align-items: center;
            gap: 10px;
            background: var(--tertiary-bg);
            padding: 5px 15px;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .profile:hover {
            background: var(--hover-color);
        }

        .profile-pic {
            width: 35px;
            height: 35px;
            background: var(--accent-color);
            border-radius: 50%;
        }

        /* Sub Navigation */
        .sub-nav {
            background: var(--tertiary-bg);
            padding: 15px 0;
            border-bottom: 1px solid var(--border-color);
        }

        .sub-nav-content {
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        .sub-nav-btn {
            background: var(--secondary-bg);
            border: 2px solid var(--border-color);
            color: var(--text-primary);
            padding: 12px 25px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .sub-nav-btn:hover {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
            transform: translateY(-2px);
        }

        .sub-nav-btn.active {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        /* Main Content */
        .main-content {
            padding: 40px 0;
            min-height: calc(100vh - 200px);
        }

        /* Home Page */
        .home-page {
            text-align: center;
            padding: 100px 0;
        }

        .home-title {
            font-size: 4rem;
            margin-bottom: 20px;
            background: linear-gradient(45deg, var(--accent-color), #ff8c42);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .graduation-cap {
            font-size: 3rem;
            margin-right: 20px;
            display: inline-block;
            animation: bounce 2s infinite;
        }

        @keyframes bounce {
            0%, 20%, 50%, 80%, 100% {
                transform: translateY(0);
            }
            40% {
                transform: translateY(-10px);
            }
            60% {
                transform: translateY(-5px);
            }
        }

        .home-subtitle {
            font-size: 2rem;
            color: var(--text-secondary);
            margin-top: 30px;
        }

        /* Create Quiz Page */
        .create-quiz-page {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            padding: 20px 0;
        }

        .instructions-panel {
            background: var(--secondary-bg);
            padding: 25px;
            border-radius: 15px;
            border: 1px solid var(--border-color);
            height: fit-content;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .instructions-title {
            font-size: 1.4rem;
            margin-bottom: 15px;
            color: var(--accent-color);
            font-weight: bold;
        }

        .instructions-content {
            line-height: 1.6;
            color: var(--text-secondary);
        }

        .code-example {
            background: var(--primary-bg);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            border-left: 4px solid var(--accent-color);
        }

        .quiz-form {
            background: var(--secondary-bg);
            padding: 30px;
            border-radius: 15px;
            border: 1px solid var(--border-color);
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-primary);
        }

        .form-input, .form-textarea {
            width: 100%;
            padding: 12px 15px;
            background: var(--tertiary-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            font-size: 16px;
            transition: all 0.3s ease;
        }

        .form-input:focus, .form-textarea:focus {
            outline: none;
            border-color: var(--accent-color);
            box-shadow: 0 0 0 3px rgba(255, 107, 53, 0.1);
        }

        .form-textarea {
            resize: vertical;
            min-height: 100px;
        }

        .preview-section {
            background: var(--tertiary-bg);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid var(--accent-color);
        }

        .save-btn {
            background: var(--accent-color);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 10px;
            margin-top: 20px;
        }

        .save-btn:hover {
            background: #e55a2b;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(255, 107, 53, 0.3);
        }

        /* Take Quiz Page */
        .take-quiz-page {
            display: grid;
            grid-template-columns: 1fr 2fr;
            gap: 30px;
            padding: 20px 0;
        }

        .quiz-sidebar {
            background: var(--secondary-bg);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            padding: 20px;
            height: fit-content;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .quiz-category {
            font-size: 1.2rem;
            font-weight: bold;
            margin-bottom: 20px;
            color: var(--accent-color);
        }

        .question-list {
            list-style: none;
        }

        .question-item {
            padding: 10px 15px;
            margin-bottom: 8px;
            background: var(--tertiary-bg);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            border-left: 4px solid transparent;
        }

        .question-item:hover {
            background: var(--hover-color);
            border-left-color: var(--accent-color);
        }

        .question-item.active {
            background: var(--accent-color);
            color: white;
            border-left-color: #e55a2b;
        }

        .quiz-main {
            background: var(--secondary-bg);
            border-radius: 15px;
            border: 1px solid var(--border-color);
            padding: 30px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
        }

        .quiz-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid var(--border-color);
        }

        .question-counter {
            background: var(--tertiary-bg);
            padding: 8px 16px;
            border-radius: 20px;
            font-weight: bold;
        }

        .timer {
            display: flex;
            align-items: center;
            gap: 10px;
            color: var(--accent-color);
            font-weight: bold;
        }

        .timer-icon {
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .progress-bar {
            width: 100%;
            height: 6px;
            background: var(--tertiary-bg);
            border-radius: 3px;
            margin-top: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, var(--accent-color), #ff8c42);
            border-radius: 3px;
            transition: width 0.5s ease;
        }

        .question-section {
            margin-bottom: 30px;
        }

        .question-text {
            font-size: 1.3rem;
            margin-bottom: 10px;
            padding: 20px;
            background: var(--tertiary-bg);
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
        }

        .question-code {
            background: var(--primary-bg);
            padding: 15px;
            border-radius: 8px;
            font-family: 'Courier New', monospace;
            margin: 15px 0;
            border: 1px solid var(--border-color);
        }

        .options-list {
            list-style: none;
            margin-bottom: 20px;
        }

        .option-item {
            margin-bottom: 12px;
        }

        .option-btn {
            width: 100%;
            padding: 15px 20px;
            background: var(--tertiary-bg);
            border: 2px solid var(--border-color);
            border-radius: 8px;
            color: var(--text-primary);
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: left;
            font-size: 16px;
        }

        .option-btn:hover {
            background: var(--hover-color);
            border-color: var(--accent-color);
        }

        .option-btn.selected {
            background: var(--accent-color);
            color: white;
            border-color: var(--accent-color);
        }

        .explanation {
            background: var(--tertiary-bg);
            padding: 20px;
            border-radius: 8px;
            border-left: 4px solid var(--accent-color);
            margin-top: 20px;
        }

        .quiz-actions {
            display: flex;
            gap: 15px;
            margin-top: 30px;
        }

        .action-btn {
            padding: 12px 25px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .edit-btn {
            background: var(--accent-color);
            color: white;
        }

        .delete-btn {
            background: #dc3545;
            color: white;
        }

        .action-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .hidden {
            display: none;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .create-quiz-page,
            .take-quiz-page {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            .nav-links {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .home-title {
                font-size: 2.5rem;
            }
        }
    </style>
</head>
<body>
    <div id="app">
        <!-- Header -->
        <header class="header">
            <div class="container">
                <div class="header-content">
                    <div class="logo">
                        <div class="logo-circle">Q</div>
                        <span>LOGO</span>
                    </div>
                    <nav class="nav-links">
                        <a href="#" class="nav-link">Home</a>
                        <a href="#" class="nav-link">HTML</a>
                        <a href="#" class="nav-link">CSS</a>
                        <a href="#" class="nav-link">JavaScript</a>
                        <a href="#" class="nav-link">Python</a>
                        <a href="#" class="nav-link">Bash</a>
                    </nav>
                    <div class="header-actions">
                        <button class="dark-mode-toggle" onclick="toggleDarkMode()">
                            <span id="mode-text">Light Mode</span>
                        </button>
                        <button class="notification">🔔</button>
                        <div class="profile">
                            <div class="profile-pic"></div>
                            <span id="profile-name">Profile pic</span>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Sub Navigation -->
        <div class="sub-nav">
            <div class="container">
                <div class="sub-nav-content">
                    <button class="sub-nav-btn active" onclick="showPage('home')">
                        🏠 Home
                    </button>
                    <button class="sub-nav-btn" onclick="showPage('create')">
                        ⚡ Create Quiz
                    </button>
                    <button class="sub-nav-btn" onclick="showPage('take')">
                        📝 Take Quiz
                    </button>
                </div>
            </div>
        </div>

        <!-- Main Content -->
        <main class="main-content">
            <div class="container">
                
                <!-- Home Page -->
                <div id="home-page" class="page home-page">
                    <h1 class="home-title">
                        <span class="graduation-cap">🎓</span>Welcome to Quiz
                    </h1>
                    <h2 class="home-subtitle">Home Page</h2>
                </div>

                <!-- Create Quiz Page -->
                <div id="create-page" class="page create-quiz-page hidden">
                    <div class="instructions-panel">
                        <h3 class="instructions-title">Instructions about this form</h3>
                        <div class="instructions-content">
                            <p><strong>How to fill explanation section:</strong></p>
                            <p>Normal paragraph ko as a text hi likh do.</p>
                            <p>But agar code likhna hai toh ye teen (```) ke bich mein hi likhna.</p>
                            
                            <p><strong>Example:</strong></p>
                            <p>This is a paragraph this paragraph is written as an example for writing in explanation section.</p>
                            
                            <div class="code-example">
```<br>
a {<br>
&nbsp;&nbsp;color: yellow;<br>
&nbsp;&nbsp;background: black;<br>
}<br>
```
                            </div>
                        </div>
                    </div>

                    <form class="quiz-form" onsubmit="saveQuiz(event)">
                        <div class="form-group">
                            <label class="form-label">Category</label>
                            <input type="text" class="form-input" id="category" placeholder="Enter category (e.g., HTML, CSS, JavaScript)" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Question</label>
                            <input type="text" class="form-input" id="question" placeholder="Enter your question" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Question (optional) - (textarea)</label>
                            <textarea class="form-textarea" id="question-detail" placeholder="Additional question details or code examples"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Option A</label>
                            <input type="text" class="form-input" id="option-a" placeholder="Enter option A" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Option B</label>
                            <input type="text" class="form-input" id="option-b" placeholder="Enter option B" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Option C</label>
                            <input type="text" class="form-input" id="option-c" placeholder="Enter option C" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Option D</label>
                            <input type="text" class="form-input" id="option-d" placeholder="Enter option D" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Correct answer (enter numerical value from 1 to 4)</label>
                            <input type="number" class="form-input" id="correct-answer" min="1" max="4" placeholder="1, 2, 3, or 4" required>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Explanation (optional) - (textarea)</label>
                            <textarea class="form-textarea" id="explanation" placeholder="Explain why this answer is correct" oninput="updatePreview()"></textarea>
                        </div>

                        <div class="form-group">
                            <label class="form-label">Preview of Explanation</label>
                            <div class="preview-section" id="explanation-preview">
                                Your explanation preview will appear here...
                            </div>
                        </div>

                        <button type="submit" class="save-btn">
                            💾 Save Quiz
                        </button>
                    </form>
                </div>

                <!-- Take Quiz Page -->
                <div id="take-page" class="page take-quiz-page hidden">
                    <div class="quiz-sidebar">
                        <div class="quiz-category" id="current-category">Html</div>
                        <ul class="question-list" id="question-list">
                            <!-- Questions will be populated here -->
                        </ul>
                    </div>

                    <div class="quiz-main">
                        <div class="quiz-header">
                            <div class="question-counter" id="question-counter">Q1 of Q20</div>
                            <div class="timer">
                                <span class="timer-icon">⏱️</span>
                                <span>Timer</span>
                                <div class="progress-bar">
                                    <div class="progress-fill" style="width: 5%"></div>
                                </div>
                            </div>
                        </div>

                        <div class="question-section">
                            <div class="question-text" id="current-question">
                                Which of the following will print "Hello World!" to the console?
                            </div>
                            <div class="question-code" id="current-question-code">
                                print("Hello World!")
                            </div>

                            <ul class="options-list" id="options-list">
                                <li class="option-item">
                                    <button class="option-btn" onclick="selectOption(0)">Yes</button>
                                </li>
                                <li class="option-item">
                                    <button class="option-btn" onclick="selectOption(1)">No</button>
                                </li>
                                <li class="option-item">
                                    <button class="option-btn" onclick="selectOption(2)">May be</button>
                                </li>
                                <li class="option-item">
                                    <button class="option-btn" onclick="selectOption(3)">I don't know</button>
                                </li>
                            </ul>

                            <div class="explanation" id="current-explanation">
                                Yes, because print("Hello World!") is correct.
                            </div>
                        </div>

                        <div class="quiz-actions">
                            <button class="action-btn edit-btn">
                                ✏️ Edit Quiz
                            </button>
                            <button class="action-btn delete-btn">
                                🗑️ Delete Quiz
                            </button>
                        </div>
                    </div>
                </div>

            </div>
        </main>
    </div>

    <script>
        // Global state
        let quizzes = [
            {
                id: 1,
                category: 'Html',
                question: 'Which of the following will print "Hello World!" to the console?',
                questionDetail: 'print("Hello World!")',
                options: ['Yes', 'No', 'May be', 'I don\'t know'],
                correctAnswer: 1,
                explanation: 'Yes, because print("Hello World!") is correct.'
            }
        ];
        
        let currentQuestionIndex = 0;
        let selectedOption = null;

        // Initialize the app
        function init() {
            updateQuestionList();
            displayCurrentQuestion();
        }

        // Dark mode toggle
        function toggleDarkMode() {
            document.body.classList.toggle('light-mode');
            const modeText = document.getElementById('mode-text');
            const isDarkMode = !document.body.classList.contains('light-mode');
            modeText.textContent = isDarkMode ? 'Light Mode' : 'Dark Mode';
        }

        // Page navigation
        function showPage(pageId) {
            // Hide all pages
            document.querySelectorAll('.page').forEach(page => {
                page.classList.add('hidden');
            });
            
            // Show selected page
            document.getElementById(`${pageId}-page`).classList.remove('hidden');
            
            // Update active nav button
            document.querySelectorAll('.sub-nav-btn').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }

        // Quiz creation
        function updatePreview() {
            const explanation = document.getElementById('explanation').value;
            const preview = document.getElementById('explanation-preview');
            
            if (explanation.trim()) {
                // Simple markdown-like parsing for code blocks
                const parsed = explanation.replace(/```([\s\S]*?)```/g, '<pre style="background: var(--primary-bg); padding: 10px; border-radius: 4px; margin: 10px 0;"><code>$1</code></pre>');
                preview.innerHTML = parsed;
            } else {
                preview.textContent = 'Your explanation preview will appear here...';
            }
        }

        function saveQuiz(event) {
            event.preventDefault();
            
            const formData = {
                id: Date.now(),
                category: document.getElementById('category').value,
                question: document.getElementById('question').value,
                questionDetail: document.getElementById('question-detail').value,
                options: [
                    document.getElementById('option-a').value,
                    document.getElementById('option-b').value,
                    document.getElementById('option-c').value,
                    document.getElementById('option-d').value
                ],
                correctAnswer: parseInt(document.getElementById('correct-answer').value) - 1,
                explanation: document.getElementById('explanation').value
            };
            
            quizzes.push(formData);
            
            // Reset form
            event.target.reset();
            document.getElementById('explanation-preview').textContent = 'Your explanation preview will appear here...';
            
            // Update quiz list if on take quiz page
            updateQuestionList();
            
            alert('Quiz saved successfully!');
        }

        // Quiz taking functionality
        function updateQuestionList() {
            const questionList = document.getElementById('question-list');
            questionList.innerHTML = '';
            
            quizzes.forEach((quiz, index) => {
                const li = document.createElement('li');
                li.className = `question-item ${index === currentQuestionIndex ? 'active' : ''}`;
                li.textContent = `Q${index + 1}. ${quiz.question.substring(0, 30)}...`;
                li.onclick = () => selectQuestion(index);
                questionList.appendChild(li);
            });
        }

        function selectQuestion(index) {
            currentQuestionIndex = index;
            selectedOption = null;
            displayCurrentQuestion();
            updateQuestionList();
        }

        function displayCurrentQuestion() {
            if (quizzes.length === 0) return;
            
            const quiz = quizzes[currentQuestionIndex];
            
            document.getElementById('question-counter').textContent = `Q${currentQuestionIndex + 1} of Q${quizzes.length}`;
            document.getElementById('current-category').textContent = quiz.category;
            document.getElementById('current-question').textContent = quiz.question;
            
            const codeElement = document.getElementById('current-question-code');
            if (quiz.questionDetail) {
                codeElement.textContent = quiz.questionDetail;
                codeElement.style.display = 'block';
            } else {
                codeElement.style.display = 'none';
            }
            
            const optionsList = document.getElementById('options-list');
            optionsList.innerHTML = '';
            quiz.options.forEach((option, index) => {
                const li = document.createElement('li');
                li.className = 'option-item';
                li.innerHTML = `<button class="option-btn" onclick="selectOption(${index})">${option}</button>`;
                optionsList.appendChild(li);
            });
            
            document.getElementById('current-explanation').textContent = quiz.explanation;
            
            // Update progress bar
            const progress = ((currentQuestionIndex + 1) / quizzes.length) * 100;
            document.querySelector('.progress-fill').style.width = `${progress}%`;
        }

        function selectOption(optionIndex) {
            selectedOption = optionIndex;
            
            // Update option buttons
            document.querySelectorAll('.option-btn').forEach((btn, index) => {
                btn.classList.remove('selected');
                if (index === optionIndex) {
                    btn.classList.add('selected');
                }
            });
            
            // Show if answer is correct
            const quiz = quizzes[currentQuestionIndex];
            const isCorrect = optionIndex === quiz.correctAnswer;
            
            // Add visual feedback
            setTimeout(() => {
                const selectedBtn = document.querySelectorAll('.option-btn')[optionIndex];
                if (isCorrect) {
                    selectedBtn.style.background = '#28a745';
                } else {
                    selectedBtn.style.background = '#dc3545';
                    // Show correct answer
                    document.querySelectorAll('.option-btn')[quiz.correctAnswer].style.background = '#28a745';
                }
            }, 500);
        }

        // Timer functionality
        let timerInterval;
        let timeLeft = 600; // 10 minutes

        function startTimer() {
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    alert('Time\'s up!');
                }
            }, 1000);
        }

        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            const timerText = `${minutes}:${seconds.toString().padStart(2, '0')}`;
            document.querySelector('.timer span:last-child').textContent = `Timer (${timerText})`;
        }

        // Navigation between questions
        function nextQuestion() {
            if (currentQuestionIndex < quizzes.length - 1) {
                selectQuestion(currentQuestionIndex + 1);
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                selectQuestion(currentQuestionIndex - 1);
            }
        }

        // Keyboard navigation
        document.addEventListener('keydown', (e) => {
            if (document.getElementById('take-page').classList.contains('hidden')) return;
            
            switch(e.key) {
                case 'ArrowLeft':
                    prevQuestion();
                    break;
                case 'ArrowRight':
                    nextQuestion();
                    break;
                case '1':
                case '2':
                case '3':
                case '4':
                    const optionIndex = parseInt(e.key) - 1;
                    if (optionIndex >= 0 && optionIndex < 4) {
                        selectOption(optionIndex);
                    }
                    break;
            }
        });

        // Enhanced profile functionality
        function updateProfile() {
            const name = prompt('Enter your name:');
            if (name) {
                document.getElementById('profile-name').textContent = name;
            }
        }

        // Add click handler for profile
        document.querySelector('.profile').addEventListener('click', updateProfile);

        // Add more sample quizzes for demonstration
        function addSampleQuizzes() {
            const sampleQuizzes = [
                {
                    id: 2,
                    category: 'CSS',
                    question: 'Which CSS property is used to change the text color?',
                    questionDetail: '',
                    options: ['color', 'text-color', 'font-color', 'text-style'],
                    correctAnswer: 0,
                    explanation: 'The color property is used to set the color of text in CSS.'
                },
                {
                    id: 3,
                    category: 'JavaScript',
                    question: 'What will console.log(typeof null) output?',
                    questionDetail: 'console.log(typeof null);',
                    options: ['null', 'undefined', 'object', 'boolean'],
                    correctAnswer: 2,
                    explanation: 'In JavaScript, typeof null returns "object". This is a known quirk in the language.'
                },
                {
                    id: 4,
                    category: 'HTML',
                    question: 'Which HTML element is used for the largest heading?',
                    questionDetail: '',
                    options: ['<h6>', '<h1>', '<header>', '<heading>'],
                    correctAnswer: 1,
                    explanation: 'The <h1> element represents the largest heading in HTML.'
                },
                {
                    id: 5,
                    category: 'Python',
                    question: 'What is the output of this code?',
                    questionDetail: 'print(2 ** 3)',
                    options: ['6', '8', '9', '5'],
                    correctAnswer: 1,
                    explanation: 'The ** operator is used for exponentiation in Python. 2 ** 3 equals 2³ = 8.'
                }
            ];
            
            quizzes.push(...sampleQuizzes);
        }

        // Enhanced quiz actions
        function editCurrentQuiz() {
            if (quizzes.length === 0) return;
            
            const quiz = quizzes[currentQuestionIndex];
            
            // Switch to create page and populate form
            showPage('create');
            
            document.getElementById('category').value = quiz.category;
            document.getElementById('question').value = quiz.question;
            document.getElementById('question-detail').value = quiz.questionDetail;
            document.getElementById('option-a').value = quiz.options[0];
            document.getElementById('option-b').value = quiz.options[1];
            document.getElementById('option-c').value = quiz.options[2];
            document.getElementById('option-d').value = quiz.options[3];
            document.getElementById('correct-answer').value = quiz.correctAnswer + 1;
            document.getElementById('explanation').value = quiz.explanation;
            
            updatePreview();
            
            // Remove the quiz from array so it can be re-added with updates
            quizzes.splice(currentQuestionIndex, 1);
            if (currentQuestionIndex >= quizzes.length) {
                currentQuestionIndex = Math.max(0, quizzes.length - 1);
            }
        }

        function deleteCurrentQuiz() {
            if (quizzes.length === 0) return;
            
            if (confirm('Are you sure you want to delete this quiz?')) {
                quizzes.splice(currentQuestionIndex, 1);
                if (currentQuestionIndex >= quizzes.length) {
                    currentQuestionIndex = Math.max(0, quizzes.length - 1);
                }
                updateQuestionList();
                if (quizzes.length > 0) {
                    displayCurrentQuestion();
                } else {
                    // No quizzes left, show empty state
                    document.getElementById('current-question').textContent = 'No quizzes available. Create some quizzes first!';
                    document.getElementById('current-question-code').style.display = 'none';
                    document.getElementById('options-list').innerHTML = '';
                    document.getElementById('current-explanation').textContent = '';
                }
            }
        }

        // Add event listeners for quiz actions
        document.querySelector('.edit-btn').addEventListener('click', editCurrentQuiz);
        document.querySelector('.delete-btn').addEventListener('click', deleteCurrentQuiz);

        // Notification functionality
        document.querySelector('.notification').addEventListener('click', () => {
            const notifications = [
                'New quiz available in JavaScript category!',
                'You have completed 5 quizzes today!',
                'Weekly challenge: Complete 10 HTML quizzes',
                'Your Python quiz score: 85%'
            ];
            
            const randomNotification = notifications[Math.floor(Math.random() * notifications.length)];
            alert(`🔔 ${randomNotification}`);
        });

        // Auto-save functionality for create quiz
        function autoSave() {
            const formData = {
                category: document.getElementById('category')?.value || '',
                question: document.getElementById('question')?.value || '',
                questionDetail: document.getElementById('question-detail')?.value || '',
                optionA: document.getElementById('option-a')?.value || '',
                optionB: document.getElementById('option-b')?.value || '',
                optionC: document.getElementById('option-c')?.value || '',
                optionD: document.getElementById('option-d')?.value || '',
                correctAnswer: document.getElementById('correct-answer')?.value || '',
                explanation: document.getElementById('explanation')?.value || ''
            };
            
            // Simple auto-save to show concept (in real app, this would save to server)
            console.log('Auto-saving quiz draft:', formData);
        }

        // Auto-save every 30 seconds when on create page
        setInterval(() => {
            if (!document.getElementById('create-page').classList.contains('hidden')) {
                autoSave();
            }
        }, 30000);

        // Initialize app when page loads
        document.addEventListener('DOMContentLoaded', () => {
            addSampleQuizzes();
            init();
            updateTimerDisplay();
        });

        // Add smooth scrolling for page transitions
        function smoothScrollToTop() {
            window.scrollTo({
                top: 0,
                behavior: 'smooth'
            });
        }

        // Update showPage function to include smooth scrolling
        const originalShowPage = showPage;
        showPage = function(pageId) {
            originalShowPage(pageId);
            smoothScrollToTop();
        };

        // Add search functionality for quizzes
        function searchQuizzes(searchTerm) {
            const filteredQuizzes = quizzes.filter(quiz => 
                quiz.question.toLowerCase().includes(searchTerm.toLowerCase()) ||
                quiz.category.toLowerCase().includes(searchTerm.toLowerCase())
            );
            
            // Update display with filtered results
            console.log('Search results:', filteredQuizzes);
            return filteredQuizzes;
        }

        // Add statistics tracking
        let quizStats = {
            totalAnswered: 0,
            correctAnswers: 0,
            categoryStats: {}
        };

        function updateStats(isCorrect, category) {
            quizStats.totalAnswered++;
            if (isCorrect) {
                quizStats.correctAnswers++;
            }
            
            if (!quizStats.categoryStats[category]) {
                quizStats.categoryStats[category] = { total: 0, correct: 0 };
            }
            quizStats.categoryStats[category].total++;
            if (isCorrect) {
                quizStats.categoryStats[category].correct++;
            }
        }

        function getAccuracy() {
            return quizStats.totalAnswered > 0 ? 
                Math.round((quizStats.correctAnswers / quizStats.totalAnswered) * 100) : 0;
        }

        // Enhanced selectOption function with stats
        const originalSelectOption = selectOption;
        selectOption = function(optionIndex) {
            originalSelectOption(optionIndex);
            
            const quiz = quizzes[currentQuestionIndex];
            const isCorrect = optionIndex === quiz.correctAnswer;
            updateStats(isCorrect, quiz.category);
            
            console.log(`Overall Accuracy: ${getAccuracy()}%`);
        };
    </script>
</body>
</html>